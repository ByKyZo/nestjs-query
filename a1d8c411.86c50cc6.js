(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{130:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return d})),n.d(t,"default",(function(){return g}));var a=n(2),o=(n(0),n(190)),r=n(194),i=n(195);const l={title:"Aggregations"},s={unversionedId:"graphql/aggregations",id:"graphql/aggregations",isDocsHomePage:!1,title:"Aggregations",description:"When aggregations are enabled nestjs-query will expose a new query that enables using the following common aggregations count, avg, sum, min, and max.",source:"@site/docs/graphql/aggregations.mdx",slug:"/graphql/aggregations",permalink:"/nestjs-query/docs/graphql/aggregations",editUrl:"https://github.com/doug-martin/nestjs-query/edit/master/documentation/docs/graphql/aggregations.mdx",version:"current",sidebar:"docs",previous:{title:"Authorization",permalink:"/nestjs-query/docs/graphql/authorization"},next:{title:"Subscriptions",permalink:"/nestjs-query/docs/graphql/subscriptions"}},d=[{value:"Enabling Aggregate Queries",id:"enabling-aggregate-queries",children:[]},{value:"Examples",id:"examples",children:[{value:"Basic",id:"basic",children:[]},{value:"With Filter",id:"with-filter",children:[]}]},{value:"Aggregating Relations",id:"aggregating-relations",children:[]},{value:"Examples",id:"examples-1",children:[{value:"Basic",id:"basic-1",children:[]},{value:"With Filter",id:"with-filter-1",children:[]}]},{value:"Advanced",id:"advanced",children:[{value:"Enabling Aggregates Only For Root",id:"enabling-aggregates-only-for-root",children:[]},{value:"Disable Aggregate for Single Relation",id:"disable-aggregate-for-single-relation",children:[]}]}],c={rightToc:d};function g({components:e,...t}){return Object(o.b)("wrapper",Object(a.a)({},c,t,{components:e,mdxType:"MDXLayout"}),Object(o.b)("p",null,"When aggregations are enabled ",Object(o.b)("inlineCode",{parentName:"p"},"nestjs-query")," will expose a new query that enables using the following common aggregations ",Object(o.b)("inlineCode",{parentName:"p"},"count"),", ",Object(o.b)("inlineCode",{parentName:"p"},"avg"),", ",Object(o.b)("inlineCode",{parentName:"p"},"sum"),", ",Object(o.b)("inlineCode",{parentName:"p"},"min"),", and ",Object(o.b)("inlineCode",{parentName:"p"},"max"),"."),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Only fields decorated with ",Object(o.b)("inlineCode",{parentName:"p"},"@FilterableField")," will be exposed in aggregate queries."))),Object(o.b)("p",null,"All examples will be based on the following ",Object(o.b)("inlineCode",{parentName:"p"},"TodoItem")," DTO. All fields except ",Object(o.b)("inlineCode",{parentName:"p"},"age"),", because it is not decorated with ",Object(o.b)("inlineCode",{parentName:"p"},"@FilterableField"),", will be exposed in aggregate queries."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts",metastring:'title="todo-item/dto/todo-item.dto.ts"',title:'"todo-item/dto/todo-item.dto.ts"'}),"import { FilterableField } from '@nestjs-query/query-graphql';\nimport { ObjectType, ID, GraphQLISODateTime, Field } from '@nestjs/graphql';\n\n@ObjectType('TodoItem')\nexport class TodoItemDTO {\n  @FilterableField(() => ID)\n  id!: number;\n\n  @FilterableField()\n  title!: string;\n\n  @FilterableField({ nullable: true })\n  description?: string;\n\n  @FilterableField()\n  completed!: boolean;\n\n  @FilterableField(() => GraphQLISODateTime)\n  created!: Date;\n\n  @FilterableField(() => GraphQLISODateTime)\n  updated!: Date;\n\n  @Field()\n  age!: number;\n\n  @FilterableField()\n  priority!: number;\n}\n\n")),Object(o.b)("h3",{id:"enabling-aggregate-queries"},"Enabling Aggregate Queries"),Object(o.b)("p",null,"To enable aggregate queries you can set the ",Object(o.b)("inlineCode",{parentName:"p"},"enableAggregate")," option in your resolver"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts",metastring:'title="todo-item/todo-item.module.ts" {19}',title:'"todo-item/todo-item.module.ts"',"{19}":!0}),"import { NestjsQueryGraphQLModule } from '@nestjs-query/query-graphql';\nimport { NestjsQueryTypeOrmModule } from '@nestjs-query/query-typeorm';\nimport { Module } from '@nestjs/common';\nimport { TodoItemInputDTO } from './dto/todo-item-input.dto';\nimport { TodoItemUpdateDTO } from './dto/todo-item-update.dto';\nimport { TodoItemDTO } from './dto/todo-item.dto';\nimport { TodoItemEntity } from './todo-item.entity';\n\n@Module({\n  imports: [\n    NestjsQueryGraphQLModule.forFeature({\n      imports: [NestjsQueryTypeOrmModule.forFeature([TodoItemEntity])],\n      resolvers: [\n        {\n          DTOClass: TodoItemDTO,\n          EntityClass: TodoItemEntity,\n          CreateDTOClass: TodoItemInputDTO,\n          UpdateDTOClass: TodoItemUpdateDTO,\n          enableAggregate: true\n        },\n      ],\n    }),\n  ],\n})\nexport class TodoItemModule {}\n")),Object(o.b)("p",null,"All aggregate queries use the following naming convention ",Object(o.b)("inlineCode",{parentName:"p"},"${objectName}Aggregate"),"."),Object(o.b)("p",null,"Below is a fragment from the generated schema for ",Object(o.b)("inlineCode",{parentName:"p"},"TodoItem")),Object(o.b)("div",{className:"admonition admonition-info alert alert--info"},Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},Object(o.b)("inlineCode",{parentName:"p"},"nestjs-query")," will only expose number fields for ",Object(o.b)("inlineCode",{parentName:"p"},"avg")," and ",Object(o.b)("inlineCode",{parentName:"p"},"sum"),"."))),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-graphql",metastring:"{10}","{10}":!0}),"type Query {\n  todoItem(id: ID!): TodoItem\n  todoItems(\n    paging: CursorPaging = { first: 10 }\n\n    filter: TodoItemFilter = {}\n\n    sorting: [TodoItemSort!] = []\n  ): TodoItemConnection!\n  todoItemAggregate(filter: TodoItemAggregateFilter): TodoItemAggregateResponse!\n}\n\ninput TodoItemAggregateFilter {\n  and: [TodoItemAggregateFilter!]\n  or: [TodoItemAggregateFilter!]\n  id: IDFilterComparison\n  title: StringFieldComparison\n  description: StringFieldComparison\n  completed: BooleanFieldComparison\n  created: DateFieldComparison\n  updated: DateFieldComparison\n  priority: NumberFieldComparison\n}\n\ntype TodoItemAggregateResponse {\n  count: TodoItemCountAggregate\n  sum: TodoItemSumAggregate\n  avg: TodoItemAvgAggregate\n  min: TodoItemMinAggregate\n  max: TodoItemMaxAggregate\n}\n\ntype TodoItemAvgAggregate {\n  id: Float\n  priority: Float\n}\n\ntype TodoItemCountAggregate {\n  id: Int\n  title: Int\n  description: Int\n  completed: Int\n  created: Int\n  updated: Int\n  priority: Int\n}\n\ntype TodoItemMaxAggregate {\n  id: ID\n  title: String\n  description: String\n  created: DateTime\n  updated: DateTime\n  priority: Float\n}\n\ntype TodoItemMinAggregate {\n  id: ID\n  title: String\n  description: String\n  created: DateTime\n  updated: DateTime\n  priority: Float\n}\n\ntype TodoItemSumAggregate {\n  id: Float\n  priority: Float\n}\n\n")),Object(o.b)("h2",{id:"examples"},"Examples"),Object(o.b)("h3",{id:"basic"},"Basic"),Object(o.b)(r.a,{defaultValue:"graphql",values:[{label:"GraphQL",value:"graphql"},{label:"Response",value:"response"}],mdxType:"Tabs"},Object(o.b)(i.a,{value:"graphql",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-graphql"}),"{\n  todoItemAggregate {\n    count {\n      id\n    }\n    sum {\n      id\n    }\n    avg {\n      id\n    }\n    min {\n      id\n      title\n      created\n    }\n    max {\n      id\n      title\n      created\n    }\n  }\n}\n"))),Object(o.b)(i.a,{value:"response",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "data": {\n    "todoItemAggregate": {\n      "count": {\n        "id": 5\n      },\n      "sum": {\n        "id": 15\n      },\n      "avg": {\n        "id": 3\n      },\n      "min": {\n        "id": "1",\n        "title": "Add Todo Item Resolver",\n        "created": "2020-07-13T01:12:29.773Z"\n      },\n      "max": {\n        "id": "5",\n        "title": "How to create item With Sub Tasks",\n        "created": "2020-07-15T07:12:29.773Z"\n      }\n    }\n  }\n}\n')))),Object(o.b)("h3",{id:"with-filter"},"With Filter"),Object(o.b)("p",null,"You can also provide a filter to only aggregate on a subset of data."),Object(o.b)(r.a,{defaultValue:"graphql",values:[{label:"GraphQL",value:"graphql"},{label:"Response",value:"response"}],mdxType:"Tabs"},Object(o.b)(i.a,{value:"graphql",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-graphql"}),"{\n  todoItemAggregate(filter: { completed: { is: false } }) {\n    count {\n      id\n    }\n    min {\n      id\n      title\n      created\n    }\n    max {\n      id\n      title\n      created\n    }\n  }\n}\n\n"))),Object(o.b)(i.a,{value:"response",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "data": {\n    "todoItemAggregate": {\n      "count": {\n        "id": 4\n      },\n      "min": {\n        "id": "2",\n        "title": "Add Todo Item Resolver",\n        "created": "2020-07-15T07:12:29.773Z"\n      },\n      "max": {\n        "id": "5",\n        "title": "How to create item With Sub Tasks",\n        "created": "2020-07-15T07:12:29.773Z"\n      }\n    }\n  }\n}\n')))),Object(o.b)("p",null,"When using the ",Object(o.b)("inlineCode",{parentName:"p"},"count")," aggregate only non-null fields will be counted."),Object(o.b)("p",null,"For example assume description is null for all todo items you will get ",Object(o.b)("inlineCode",{parentName:"p"},"0")," back."),Object(o.b)(r.a,{defaultValue:"graphql",values:[{label:"GraphQL",value:"graphql"},{label:"Response",value:"response"}],mdxType:"Tabs"},Object(o.b)(i.a,{value:"graphql",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-graphql"}),"{\n  todoItemAggregate(filter: { completed: { is: false } }) {\n    count {\n      id\n      title\n      description\n    }\n  }\n}\n"))),Object(o.b)(i.a,{value:"response",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n "data": {\n   "todoItemAggregate": {\n     "count": {\n       "id": 4,\n       "title": 4,\n       "description": 0\n     }\n   }\n }\n}\n')))),Object(o.b)("h2",{id:"aggregating-relations"},"Aggregating Relations"),Object(o.b)("p",null,"When using the ",Object(o.b)("inlineCode",{parentName:"p"},"enableAggregate")," option any defined ",Object(o.b)("inlineCode",{parentName:"p"},"many")," relations will also expose a aggregate query ",Object(o.b)("inlineCode",{parentName:"p"},"{relationName}Aggregate")),Object(o.b)("p",null,"Building on the previous example assume ",Object(o.b)("inlineCode",{parentName:"p"},"TodoItem")," has a ",Object(o.b)("inlineCode",{parentName:"p"},"subTasks")," connection."),Object(o.b)("p",null,"The following schema fragment will be created"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-graphql",metastring:"{17-19}","{17-19}":!0}),"type TodoItem {\n  id: ID!\n  title: String!\n  description: String\n  completed: Boolean!\n  created: DateTime!\n  updated: DateTime!\n  age: Float!\n  priority: Float!\n  subTasks(\n    paging: CursorPaging = { first: 10 }\n\n    filter: SubTaskFilter = {}\n\n    sorting: [SubTaskSort!] = []\n  ): TodoItemSubTasksConnection!\n  subTasksAggregate(\n    filter: SubTaskAggregateFilter\n  ): TodoItemSubTasksAggregateResponse!\n}\n\ntype TodoItemSubTasksAggregateResponse {\n  count: TodoItemSubTasksCountAggregate\n  sum: TodoItemSubTasksSumAggregate\n  avg: TodoItemSubTasksAvgAggregate\n  min: TodoItemSubTasksMinAggregate\n  max: TodoItemSubTasksMaxAggregate\n}\n\ntype TodoItemSubTasksAvgAggregate {\n  id: Float\n}\n\ntype TodoItemSubTasksCountAggregate {\n  id: Int\n  title: Int\n  description: Int\n  completed: Int\n  created: Int\n  updated: Int\n  todoItemId: Int\n}\n\ntype TodoItemSubTasksMaxAggregate {\n  id: ID\n  title: String\n  description: String\n  created: DateTime\n  updated: DateTime\n  todoItemId: String\n}\n\ntype TodoItemSubTasksMinAggregate {\n  id: ID\n  title: String\n  description: String\n  created: DateTime\n  updated: DateTime\n  todoItemId: String\n}\n\ntype TodoItemSubTasksSumAggregate {\n  id: Float\n}\n")),Object(o.b)("h2",{id:"examples-1"},"Examples"),Object(o.b)("h3",{id:"basic-1"},"Basic"),Object(o.b)("p",null,"In this example we'll aggregate on all related ",Object(o.b)("inlineCode",{parentName:"p"},"subTasks"),"."),Object(o.b)(r.a,{defaultValue:"graphql",values:[{label:"GraphQL",value:"graphql"},{label:"Response",value:"response"}],mdxType:"Tabs"},Object(o.b)(i.a,{value:"graphql",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-graphql"}),"{\n  todoItem(id: 5) {\n    subTasksAggregate {\n      count {\n        id\n      }\n      sum {\n        id\n      }\n      avg {\n        id\n      }\n      min {\n        id\n        title\n      }\n      max {\n        id\n        title\n      }\n    }\n  }\n}\n\n"))),Object(o.b)(i.a,{value:"response",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n "data": {\n   "todoItem": {\n     "subTasksAggregate": {\n       "count": {\n         "id": 3\n       },\n       "sum": {\n         "id": 42\n       },\n       "avg": {\n         "id": 14\n       },\n       "min": {\n         "id": "13",\n         "title": "How to create item With Sub Tasks - Sub Task 1"\n       },\n       "max": {\n         "id": "15",\n         "title": "How to create item With Sub Tasks - Sub Task 3"\n       }\n     }\n   }\n }\n}\n')))),Object(o.b)("h3",{id:"with-filter-1"},"With Filter"),Object(o.b)("p",null,"This example will aggregate all related ",Object(o.b)("inlineCode",{parentName:"p"},"subTasks")," that are not completed."),Object(o.b)(r.a,{defaultValue:"graphql",values:[{label:"GraphQL",value:"graphql"},{label:"Response",value:"response"}],mdxType:"Tabs"},Object(o.b)(i.a,{value:"graphql",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-graphql"}),"{\n  todoItem(id: 5) {\n    subTasksAggregate(filter: { completed: { is: false } }) {\n      count {\n        id\n      }\n      min {\n        id\n        title\n      }\n      max {\n        id\n        title\n      }\n    }\n  }\n}\n"))),Object(o.b)(i.a,{value:"response",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n "data": {\n   "todoItem": {\n     "subTasksAggregate": {\n       "count": {\n         "id": 2\n       },\n       "min": {\n         "id": "14",\n         "title": "How to create item With Sub Tasks - Sub Task 2"\n       },\n       "max": {\n         "id": "15",\n         "title": "How to create item With Sub Tasks - Sub Task 3"\n       }\n     }\n   }\n }\n}\n')))),Object(o.b)("h2",{id:"advanced"},"Advanced"),Object(o.b)("h3",{id:"enabling-aggregates-only-for-root"},"Enabling Aggregates Only For Root"),Object(o.b)("p",null,"When using the ",Object(o.b)("inlineCode",{parentName:"p"},"enableAggregate")," option it will enable aggregates on the root type as well as all relations. If you only want to expose aggregate functionality on the root type you can specify the ",Object(o.b)("inlineCode",{parentName:"p"},"aggregate")," option."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts",metastring:"{19}","{19}":!0}),"import { NestjsQueryGraphQLModule } from '@nestjs-query/query-graphql';\nimport { NestjsQueryTypeOrmModule } from '@nestjs-query/query-typeorm';\nimport { Module } from '@nestjs/common';\nimport { TodoItemInputDTO } from './dto/todo-item-input.dto';\nimport { TodoItemUpdateDTO } from './dto/todo-item-update.dto';\nimport { TodoItemDTO } from './dto/todo-item.dto';\nimport { TodoItemEntity } from './todo-item.entity';\n\n@Module({\n  imports: [\n    NestjsQueryGraphQLModule.forFeature({\n      imports: [NestjsQueryTypeOrmModule.forFeature([TodoItemEntity])],\n      resolvers: [\n        {\n          DTOClass: TodoItemDTO,\n          EntityClass: TodoItemEntity,\n          CreateDTOClass: TodoItemInputDTO,\n          UpdateDTOClass: TodoItemUpdateDTO,\n          aggregate: { enabled: true }\n        },\n      ],\n    }),\n  ],\n})\nexport class TodoItemModule {}\n")),Object(o.b)("h3",{id:"disable-aggregate-for-single-relation"},"Disable Aggregate for Single Relation"),Object(o.b)("p",null,"You can also selectively disable aggregates on an individual relation by specifying the enableAggregate option when defining the relation."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts",metastring:"{7}","{7}":!0}),"import { FilterableField, FilterableConnection } from '@nestjs-query/query-graphql';\nimport { ObjectType, ID, GraphQLISODateTime, Field } from '@nestjs/graphql';\nimport { AuthGuard } from '../../auth.guard';\nimport { SubTaskDTO } from '../../sub-task/dto/sub-task.dto';\n\n@ObjectType('TodoItem')\n@FilterableConnection('subTasks', () => SubTaskDTO, { enableAggregate: false })\nexport class TodoItemDTO {\n  @FilterableField(() => ID)\n  id!: number;\n\n  @FilterableField()\n  title!: string;\n\n  @FilterableField({ nullable: true })\n  description?: string;\n\n  @FilterableField()\n  completed!: boolean;\n\n  @FilterableField(() => GraphQLISODateTime)\n  created!: Date;\n\n  @FilterableField(() => GraphQLISODateTime)\n  updated!: Date;\n\n  @Field()\n  age!: number;\n\n  @FilterableField()\n  priority!: number;\n}\n\n")))}g.isMDXComponent=!0},190:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return m}));var a=n(0),o=n.n(a);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var d=o.a.createContext({}),c=function(e){var t=o.a.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},g=function(e){var t=c(e.components);return o.a.createElement(d.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},p=o.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,i=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),g=c(n),p=a,m=g["".concat(i,".").concat(p)]||g[p]||b[p]||r;return n?o.a.createElement(m,l(l({ref:t},d),{},{components:n})):o.a.createElement(m,l({ref:t},d))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var d=2;d<r;d++)i[d]=n[d];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},191:function(e,t,n){"use strict";function a(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=a(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}t.a=function(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=a(e))&&(o&&(o+=" "),o+=t);return o}},192:function(e,t,n){"use strict";var a=n(0);const o=Object(a.createContext)(void 0);t.a=o},193:function(e,t,n){"use strict";var a=n(0),o=n(192);t.a=function(){const e=Object(a.useContext)(o.a);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},194:function(e,t,n){"use strict";var a=n(0),o=n.n(a),r=n(193),i=n(191),l=n(47),s=n.n(l);const d=37,c=39;t.a=function(e){const{block:t,children:n,defaultValue:l,values:g,groupId:b}=e,{tabGroupChoices:p,setTabGroupChoices:m}=Object(r.a)(),[u,O]=Object(a.useState)(l),[j,T]=Object(a.useState)(!1);if(null!=b){const e=p[b];null!=e&&e!==u&&g.some(t=>t.value===e)&&O(e)}const h=e=>{O(e),null!=b&&m(b,e)},f=[],y=e=>{e.metaKey||e.altKey||e.ctrlKey||T(!0)},v=()=>{T(!1)};return Object(a.useEffect)(()=>{window.addEventListener("keydown",y),window.addEventListener("mousedown",v)},[]),o.a.createElement("div",null,o.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(i.a)("tabs",{"tabs--block":t})},g.map(({value:e,label:t})=>o.a.createElement("li",{role:"tab",tabIndex:0,"aria-selected":u===e,className:Object(i.a)("tabs__item",s.a.tabItem,{"tabs__item--active":u===e}),style:j?{}:{outline:"none"},key:e,ref:e=>f.push(e),onKeyDown:e=>{((e,t,n)=>{switch(n.keyCode){case c:((e,t)=>{const n=e.indexOf(t)+1;e[n]?e[n].focus():e[0].focus()})(e,t);break;case d:((e,t)=>{const n=e.indexOf(t)-1;e[n]?e[n].focus():e[e.length-1].focus()})(e,t)}})(f,e.target,e),y(e)},onFocus:()=>h(e),onClick:()=>{h(e),T(!1)},onPointerDown:()=>T(!1)},t))),o.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},a.Children.toArray(n).filter(e=>e.props.value===u)[0]))}},195:function(e,t,n){"use strict";var a=n(0),o=n.n(a);t.a=function(e){return o.a.createElement("div",null,e.children)}}}]);